!function(n){var o={};function i(e){var t;return(o[e]||(t=o[e]={i:e,l:!1,exports:{}},n[e].call(t.exports,t,t.exports,i),t.l=!0,t)).exports}i.m=n,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=10)}({0:function(e,t,n){"use strict";var r,a=new Uint8Array(16);var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var i=function(e){return"string"==typeof e&&o.test(e)},s=[],d=0;d<256;++d)s.push((d+256).toString(16).substr(1));var l=function(e){var t=1<arguments.length&&arguments[1]!==undefined?arguments[1]:0,t=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(i(t))return t;throw TypeError("Stringified UUID is invalid")};t.a=function(e,t,n){var o=(e=e||{}).random||(e.rng||function(){if(r=r||"undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto))return r(a);throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")})();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=o[i];return t}return l(o)}},1:function(e,t,n){h=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};var h,o,i,r,a,s=a={compressToBase64:function(e){if(null==e)return"";var t=a._compress(e,6,function(e){return o.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:a._decompress(t.length,32,function(e){return d(o,t.charAt(e))})},compressToUTF16:function(e){return null==e?"":a._compress(e,15,function(e){return h(e+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:a._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(e){for(var t=a.compress(e),n=new Uint8Array(2*t.length),o=0,i=t.length;o<i;o++){var r=t.charCodeAt(o);n[2*o]=r>>>8,n[2*o+1]=r%256}return n},decompressFromUint8Array:function(e){if(null===e||e===undefined)return a.decompress(e);for(var t=new Array(e.length/2),n=0,o=t.length;n<o;n++)t[n]=256*e[2*n]+e[2*n+1];var i=[];return t.forEach(function(e){i.push(h(e))}),a.decompress(i.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":a._compress(e,6,function(e){return i.charAt(e)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),a._decompress(t.length,32,function(e){return d(i,t.charAt(e))}))},compress:function(e){return a._compress(e,16,function(e){return h(e)})},_compress:function(e,t,n){if(null==e)return"";for(var o,i,r,a,s={},d={},l="",u=2,c=3,p=2,g=[],m=0,w=0,f=0;f<e.length;f+=1)if(r=e.charAt(f),Object.prototype.hasOwnProperty.call(s,r)||(s[r]=c++,d[r]=!0),a=l+r,Object.prototype.hasOwnProperty.call(s,a))l=a;else{if(Object.prototype.hasOwnProperty.call(d,l)){if(l.charCodeAt(0)<256){for(o=0;o<p;o++)m<<=1,w==t-1?(w=0,g.push(n(m)),m=0):w++;for(i=l.charCodeAt(0),o=0;o<8;o++)m=m<<1|1&i,w==t-1?(w=0,g.push(n(m)),m=0):w++,i>>=1}else{for(i=1,o=0;o<p;o++)m=m<<1|i,w==t-1?(w=0,g.push(n(m)),m=0):w++,i=0;for(i=l.charCodeAt(0),o=0;o<16;o++)m=m<<1|1&i,w==t-1?(w=0,g.push(n(m)),m=0):w++,i>>=1}0==--u&&(u=Math.pow(2,p),p++),delete d[l]}else for(i=s[l],o=0;o<p;o++)m=m<<1|1&i,w==t-1?(w=0,g.push(n(m)),m=0):w++,i>>=1;0==--u&&(u=Math.pow(2,p),p++),s[a]=c++,l=String(r)}if(""!==l){if(Object.prototype.hasOwnProperty.call(d,l)){if(l.charCodeAt(0)<256){for(o=0;o<p;o++)m<<=1,w==t-1?(w=0,g.push(n(m)),m=0):w++;for(i=l.charCodeAt(0),o=0;o<8;o++)m=m<<1|1&i,w==t-1?(w=0,g.push(n(m)),m=0):w++,i>>=1}else{for(i=1,o=0;o<p;o++)m=m<<1|i,w==t-1?(w=0,g.push(n(m)),m=0):w++,i=0;for(i=l.charCodeAt(0),o=0;o<16;o++)m=m<<1|1&i,w==t-1?(w=0,g.push(n(m)),m=0):w++,i>>=1}0==--u&&(u=Math.pow(2,p),p++),delete d[l]}else for(i=s[l],o=0;o<p;o++)m=m<<1|1&i,w==t-1?(w=0,g.push(n(m)),m=0):w++,i>>=1;0==--u&&(u=Math.pow(2,p),p++)}for(i=2,o=0;o<p;o++)m=m<<1|1&i,w==t-1?(w=0,g.push(n(m)),m=0):w++,i>>=1;for(;;){if(m<<=1,w==t-1){g.push(n(m));break}w++}return g.join("")},decompress:function(t){return null==t?"":""==t?null:a._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(e,t,n){for(var o,i,r,a,s,d,l=[],u=4,c=4,p=3,g="",m=[],w={val:n(0),position:t,index:1},f=0;f<3;f+=1)l[f]=f;for(i=0,a=Math.pow(2,2),s=1;s!=a;)r=w.val&w.position,w.position>>=1,0==w.position&&(w.position=t,w.val=n(w.index++)),i|=(0<r?1:0)*s,s<<=1;switch(i){case 0:for(i=0,a=Math.pow(2,8),s=1;s!=a;)r=w.val&w.position,w.position>>=1,0==w.position&&(w.position=t,w.val=n(w.index++)),i|=(0<r?1:0)*s,s<<=1;d=h(i);break;case 1:for(i=0,a=Math.pow(2,16),s=1;s!=a;)r=w.val&w.position,w.position>>=1,0==w.position&&(w.position=t,w.val=n(w.index++)),i|=(0<r?1:0)*s,s<<=1;d=h(i);break;case 2:return""}for(o=l[3]=d,m.push(d);;){if(e<w.index)return"";for(i=0,a=Math.pow(2,p),s=1;s!=a;)r=w.val&w.position,w.position>>=1,0==w.position&&(w.position=t,w.val=n(w.index++)),i|=(0<r?1:0)*s,s<<=1;switch(d=i){case 0:for(i=0,a=Math.pow(2,8),s=1;s!=a;)r=w.val&w.position,w.position>>=1,0==w.position&&(w.position=t,w.val=n(w.index++)),i|=(0<r?1:0)*s,s<<=1;l[c++]=h(i),d=c-1,u--;break;case 1:for(i=0,a=Math.pow(2,16),s=1;s!=a;)r=w.val&w.position,w.position>>=1,0==w.position&&(w.position=t,w.val=n(w.index++)),i|=(0<r?1:0)*s,s<<=1;l[c++]=h(i),d=c-1,u--;break;case 2:return m.join("")}if(0==u&&(u=Math.pow(2,p),p++),l[d])g=l[d];else{if(d!==c)return null;g=o+o.charAt(0)}m.push(g),l[c++]=o+g.charAt(0),o=g,0==--u&&(u=Math.pow(2,p),p++)}}};function d(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}(n=function(){return s}.call(t,n,t,e))!==undefined&&(e.exports=n)},10:function(e,t,n){"use strict";n.r(t);var s,d,o,l,i,u,c,r,p=n(0),t=n(1),g=n.n(t);s=window,document,window.etm_setting=window.etm_setting||{},c={load:u="",stayTime:0,reNum:3,timer:"",sid_num:1},window.AthenaNative&&(window.etm_setting.nativeId=window.AthenaNative.getAppIds()),c.loopNode=function(e,t){var n,o=(t?e:e.target).tagName.toLowerCase();"html"!=o&&"body"!=o&&(-1<["a","img","button"].indexOf(o)?(n=(new Date).getTime(),l("web_click",{ts:n,elmnt_id:(t?e:e.target).id,elmnt_cntnt:(t?e:e.target).innerText.slice(0,200),elmnt_type:o,trgt_url:t?e.src||e.href:e.target.src||e.target.href,ext:window.etm_setting.web_click_ext||""},"beacon")):c.loopNode((t?e:e.target).parentNode,"loop"))},document.addEventListener("click",c.loopNode,!0),c.load=function(){c.stayTime=0,c.reNum=3;var e=(new Date).getTime();localStorage.setItem("durStart",e),l("web_view",{ts:e,ext:window.etm_setting.web_view_ext||""}),c.setLoadStartTime()},c.setLoadStartTime=function(){c.timer=setInterval(()=>{c.stayTime++,c.stayTime==c.reNum&&(l("web_stay",{ts:(new Date).getTime(),dur:1e3*c.stayTime,type:"heartbeat",ext:window.etm_setting.web_stay_ext||""}),c.reNum=2*c.reNum+1)},1e3)},c.pageVisibleChange=function(){var e,t;"visible"==document.visibilityState&&(e=(new Date).getTime(),window.localStorage.setItem("durStart",e),c.setLoadStartTime()),"hidden"==document.visibilityState&&(clearInterval(c.timer),e=(new Date).getTime(),t=window.localStorage.getItem("durStart"),l("web_leave",{ts:e,dur:e-t,type:"hidden",ext:window.etm_setting.web_leave_ext||""},"beacon"))},c.routerChange=function(e){var t,n;e.target.origin!=location.origin||"hashchange"==e.type&&e.newURL.split("?")[0]==e.oldURL.split("?")[0]||(t=(new Date).getTime(),n=window.localStorage.getItem("durStart"),l("web_leave",{ts:t,dur:t-n,type:"router",oldurl:e.oldURL||""},"beacon"),window.localStorage.setItem("durStart",(new Date).getTime()),c.stayTime=0,c.reNum=3,clearInterval(c.timer),c.load())},t=function(t){var n=history[t];return function(){var e=n.apply(this,arguments);return new Event(t).arguments=arguments,e}},window.history.pushState=t("pushState"),window.history.replaceState=t("replaceState"),document.addEventListener("visibilitychange",c.pageVisibleChange),window.history.state?window.addEventListener("popstate",c.routerChange):window.addEventListener("hashchange",c.routerChange),c.bodyscroll=function(){window.clearTimeout(c.timer),c.timer=setTimeout(c.isScrollEnd,1e3),c.firp=window.scrollY},c.getSevConf=function(e,i){if("test"==window.etm_setting.env)window.etm_get="https://ds-test.shallspark.com/logconf/h5/uploadconf";else{if("prod"!=window.etm_setting.env)return window.etm_setting.env?void console.error("JSSDK log: etm_setting.env must be test or prod"):void console.error("JSSDK log: please setup etm_setting.env");window.etm_get="https://ire-dsc.shallspark.com/logconf/h5/uploadconf"}var r;console.log("window.etm_setting.appid-----------\x3e",window.etm_setting.appid),window.etm_setting.appid?isNaN(window.etm_setting.appid)||((r=new XMLHttpRequest).open("POST",s.etm_get,!0),r.onreadystatechange=function(){if(4===r.readyState&&200===r.status&&r.responseText){var e,t=JSON.parse(r.responseText),n={data:[],time:""};for(e in t)-1==["tid","event_name"].indexOf(e)&&n.data.push(t[e]);n.time=(new Date).getTime();var o=etm_setting.appid+"_etm_evt_server_set";window.localStorage.setItem(o,JSON.stringify(n)),c.log("cfg from server",[]),l(i.evt,i.eparam)}},r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify({sname:window.etm_setting.appid+""}))):c.errorlog("please setup appid first")},c.log=function(e,t){"test"==window.etm_setting.env&&console.log("JSSDK log: ",e,t||"")},c.errorlog=function(e,t){"test"==window.etm_setting.env&&console.error("JSSDK log: ",e,t||"")},c.setEnv=function(){let e="";if(e=window.etm_setting.loc&&-1!=["aws-eur","aws-ind","ali-eur"].indexOf(window.etm_setting.loc)?["ire-dsu-h5","ind-dsu-h5","dsu-h5-a"][["aws-eur","aws-ind","ali-eur"].indexOf(window.etm_setting.loc)]:"dsu-h5-a","test"==window.etm_setting.env)window.etm_post="https://dsu-h-test.shallspark.com/athena/tracking/v1/athena_h5/batch",window.etm_gif="https://dsu-h-test.shallspark.com/athena/tracking/v1/athena_h5/lz.gif";else{if("prod"!=window.etm_setting.env)return window.etm_setting.env?console.error("JSSDK log: etm_setting.env must be test or prod"):console.error("JSSDK log: please setup etm_setting.env"),!1;window.etm_post=`https://${e}.shallspark.com/athena/tracking/v1/athena_h5/batch`,window.etm_gif=`https://${e}.shallspark.com/athena/tracking/v1/athena_h5/lz.gif`}return!0},c.dealBeacon=function(e,t,n,o,i,r){c.log("track method is "+e.evt),r&&1950==r&&c.log("send method is >1950 beacon"),s.navigator.sendBeacon(s.etm_post+t+"&_evt="+e.evt,n)||(c.log("beacon上报失败，存入缓存了哦"),localStorage.setItem("ath_cacheList",i))},c.dealXHR=function(e,t,n,o,i){c.log("send method is xhr"),c.log("track method is "+e.evt);var r=new XMLHttpRequest;r.open("POST",s.etm_post+t+"&_evt="+e.evt,!0),r.ontimeout=function(){localStorage.setItem("ath_cacheList",JSON.stringify(n))},r.timeout=5e3,r.onreadystatechange=function(){4==r.readyState&&200!=r.status&&(c.log("xhr上报失败，存入缓存了哦"),localStorage.setItem("ath_cacheList",i))},r.setRequestHeader("Content-Type","application/json"),r.send(o)},c.dealImgReport=function(e,t,n,o,i){c.log("send method is img"),c.log("track method is "+e.evt);var r=new Image(1,1);r.src=s.etm_gif+t+"&_evt="+e.evt+"&lz="+o+"&_="+String(Math.random()).replace("0.","").slice(0,8),r.complete?console.log("img upreport complete"):(r.onload=function(){r.onload=null},r.onerror=function(){c.log("img upreport failed"),c.log("img上报失败，存入缓存了哦"),localStorage.setItem("ath_cacheList",i)})},c.checkSetting=function(e,t){var n=window.localStorage.getItem(window.etm_setting.appid+"_etm_evt_server_set"),n=JSON.parse(n);if(!window.etm_setting.openEtm||(window.etm_setting.openEtm,"open"!==window.etm_setting.openEtm))return c.log("openEtm","Not yet open track"),!1;if(n){if(0==n.data.length)return!0;var o=n.time;if(2592e5<(new Date).getTime()-o)return c.getSevConf("call",t),c.log("local cfg expired,being updated now"),!1;if(window.etm_setting[e]&&"close"==window.etm_setting[e])return c.log("unused server cfg, developer cfg is:",window.etm_setting),!1;if(-1==n.data.indexOf(e))return c.errorlog("event_name: "+e+" is not configured, please add it in platform first"),!1}else{if(window.etm_setting.appid)return c.getSevConf("call",t),!1;if(window.etm_setting[e]&&"close"==window.etm_setting[e])return c.log("none server cfg, developer cfg is:",window.etm_setting),!1}return!0},c.scrollObj={data:[],isAll:!1},c.isScrollEnd=function(){c.scrop=window.scrollY;var e=document.documentElement.clientHeight||document.body.clientHeight;if(c.firp==c.scrop)for(var t=0;t<c.targetArr.length;t++)for(var n=document.querySelectorAll("."+c.targetArr[t]),o=[],i=0;i<n.length;i++){var r,a=n[i].getBoundingClientRect(),s=a.top+a.height/2;if(a.height<=e?0<s&&s<e&&(r={index:i,ts:(new Date).getTime(),dur:1e3,elmnt_cntnt:n[i].innerText.slice(0,200),elmnt_id:n[i].id,elmnt_type:n[i].tagName.toLowerCase(),ext:window.etm_setting.web_exposure_ext||""},o.push(r)):(a.top<e/2&&a.bottom>e||a.top<0&&a.bottom>e/2)&&(r={index:i,ts:(new Date).getTime(),dur:1e3,elmnt_cntnt:n[i].innerText.slice(0,200),elmnt_id:n[i].id,elmnt_type:n[i].tagName.toLowerCase(),ext:window.etm_setting.web_exposure_ext||""},o.push(r)),i==n.length-1&&0<o.length)for(let e=0;e<o.length;e++)c.scrollObj.isAll=e==o.length-1,l("web_exposure",o[e])}},r=s.sendTrackerName||"ath_send",s[r]&&s[r].loaded||(d={},(o=function(){o.append(arguments)}).loaded=0,o.stack=[],o.shim={},o.pack=function(e){window.removeEventListener("scroll",c.bodyscroll),window.addEventListener("scroll",c.bodyscroll);var e=Array.prototype.slice.call(e),t={},n=e.shift();return c.targetArr=e[0],c.log("web_exposure is enable"),c.log("class {"+c.targetArr+"} will be tracked"),t.evt=n,t},o.append=function(e){o.stack.push(o.pack(e)),o.run()},o.run=function(){for(var e=o.stack;e.length;)l(e.shift().evt)},(l=function(){l.append(arguments)}).loaded=0,l.stack=[],l.shim={},l.shim.pv=function(e){e.ts=d.getTs()},l.shim.click=function(e){if(!s.event)return e;for(var t="",n=s.event.target;n;n=n.parentNode)if(n.href){t=n.href;break}t&&(e.target=t),e.px=s.event.clientX,e.py=s.event.clientY},l.hashCode=function(e){if("string"!=typeof e)return 0;var t=0;if(0!=e.length)for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t},d.getCookie=function(e){e=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),e=document.cookie.match(e);return e?s.unescape(e[2]):null},d.setCookie=function(e,t,n,o){var i=new Date,r=s.location.host.split("."),r=r[r.length-2]+"."+r[r.length-1];return o=o||r,i.setTime(i.getTime()+1e3*n),document.cookie=e+"="+s.escape(t)+";expires="+i.toUTCString()+(o?";domain="+o+";path=/":""),t},d.getuuid=function(){var e="ath_session_aid",t="ath_loc_uuid",n=sessionStorage.getItem(e);return n&&"null"!=n&&"undefined"!=n||((n=localStorage.getItem(t))&&"null"!==n&&"undefined"!=n||(n=Object(p.a)(),localStorage.setItem(t,n)),sessionStorage.setItem(e,n)),n},d.fl=function(){window.localStorage.getItem("flFlag")||(window.localStorage.setItem("flFlag",!0),window.sessionStorage.setItem("isfl",!0));var e=window.sessionStorage.getItem("isfl");return e?"Y":"N"},d.getSpmid=function(){if(i.spm_id!==undefined)return i.spm_id;for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++)if("spm_id"===e[t].getAttribute("name"))return e[t].getAttribute("content");return""},d.getPType=function(){return/(iPhone|iPad|iPod|iOS|Android)/i.test(s.navigator.userAgent)?"h5":"pc"},d.getPageId=function(){if(i.page_id!==undefined)return i.page_id;for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++)if("page_id"===e[t].getAttribute("name"))return e[t].getAttribute("content");return""},d.getTs=function(){var e=d.getCookie("ts");return e&&"null"!==e||(e=+new Date,d.setCookie("ts",e,31536e3)),e},d.checkApp=function(){return!!window.AthenaNative},i={},l.conf=function(t){if(!t)return"";["spm_id"].forEach(function(e){t[e]!==undefined&&(i.kk=t[e])}),t.debug!==undefined&&(d.debug=t.debug,d.setCookie("etm_debug",t.debug?"1":"",31536e3))},l.pack=function(e){var t=s.navigator,e=Array.prototype.slice.call(e),n={},t=(n.appid=window.etm_setting.appid,n.tuid=d.checkApp()?window.AthenaNative.getAccountId():window.etm_setting.tuid||"",n.sid=window.etm_setting.sid||"",n.app_vn=window.etm_setting.app_vn||"",n.cparam=window.etm_setting.comParam,n.schg=window.screen.height,n.scwd=window.screen.width,n.evt=e.shift(),n.spm_id=d.getSpmid(),n.page_id=d.getPageId(),n.url=s.location.href,n.refer=document.referrer||"",n.gazj=d.checkApp()?window.AthenaNative.getGAID():"",n.aid=d.getuuid(),n.vaid=d.checkApp()?window.AthenaNative.getVAID():"",n.lib="js",n.isfl=d.fl(),n.sdkv="1.0.5",n.lang=(t.language||t.browserLanguage).toLowerCase(),n.ptype=d.getPType(),n.uts=(new Date).getTime(),n.tz="UTC+"+("0"+(0-(new Date).getTimezoneOffset()/60)).substr(-2),n.eparam=e[0]||{},"function"==typeof l.shim[n.evt]&&l.shim[n.evt](n.eparam),n.beacon=e[1]||"",n.eparam.ts||"web_exposure"==n.evt||(n.eparam.ts=(new Date).getTime()),"web_leave"==n.evt&&n.eparam.oldurl&&(n.url=n.eparam.oldurl,delete n.eparam.oldurl),window.sessionStorage.getItem("uuid_sid"));return t?n.sid=t:(window.localStorage.getItem("uuid_sid")?(window.localStorage.removeItem("uuid_sid"),window.localStorage.removeItem("newPage")):(window.localStorage.removeItem("newPage"),window.localStorage.setItem("newPage","1")),n.isfl="Y"),n},l.append=function(e){l.stack.push(l.pack(e)),l.run()},l.run=function(){for(var e=l.stack;e.length;)l.send(e.shift())},l.sleep=e=>{setTimeout(()=>{l(e.evt,e.eparam)},300)},l.send=async function(e){if(c.setEnv())if(e.sid&&""!=e.sid){if(("web_exposure"!=e.evt||0!=Object.getOwnPropertyNames(e.eparam).length)&&c.checkSetting(e.evt,e)){var t={},n=(delete(t={...e}).beacon,e.eparam&&(t.eparam=encodeURIComponent(JSON.stringify(e.eparam))),e.cparam&&(n=encodeURIComponent(JSON.stringify(e.cparam)),t.cparam=n),e.beacon||"");if(e.beacon!==undefined&&delete e.beacon,d.checkApp()&&window.etm_setting.js_bridge)if(window.etm_setting.nativeId&&-1<window.etm_setting.nativeId.indexOf(window.etm_setting.appid))return o={...e.eparam,cparam:e.cparam},void window.AthenaNative.track(window.etm_setting.appid,e.evt,JSON.stringify(o));var o=localStorage.getItem("ath_cacheList"),o=JSON.parse(o||"[]"),i="";if("web_exposure"==e.evt){if(!c.scrollObj.isAll)return void c.scrollObj.data.push(t);c.scrollObj.data.push(t),i=JSON.stringify([...c.scrollObj.data,...o])}else i=JSON.stringify([t,...o]);localStorage.setItem("ath_cacheList",[]);var r,t=l.hashCode(i),t="?appid="+(window.etm_setting.appid||"")+"&uuid="+d.getuuid(i)+"&dupid="+t+"&params_length="+i.length,a=g.a.compressToEncodedURIComponent(i);if(window.navigator.onLine){if("h5_browse"==e.evt)return(r=new Date)-(u=u||r)<2e3?void localStorage.setItem("ath_cacheList",i):(c.dealBeacon(e,t,a,o,i),void(u=r));s.navigator.sendBeacon&&"beacon"===n?c.dealBeacon(e,t,a,o,i):1950<i.length?s.navigator.sendBeacon&&i.length<65536?c.dealBeacon(e,t,a,o,i,1950):c.dealXHR(e,t,o,a,i):c.dealImgReport(e,t,o,a,i),"web_exposure"==e.evt?(c.log("raw data: ",[...c.scrollObj.data,...o]),c.scrollObj.isAll=!1,c.scrollObj.data=[]):c.log("raw data: ",[e,...o])}else localStorage.setItem("ath_cacheList",i)}}else Object(p.a)(),c.sid_num<=2?(await l.sleep(e),c.sid_num+=1):(r=Object(p.a)(),c.sid_num=1,window.sessionStorage.setItem("uuid_sid",r),l(e.evt,e.eparam))},l.init=function(){window.addEventListener("storage",e=>{var t;"newPage"!=e.key||"1"!=e.newValue||e.target.origin!=location.origin&&e.origin!=location.origin||((t=window.sessionStorage.getItem("uuid_sid"))?(window.localStorage.setItem("uuid_sid",t),window.localStorage.removeItem("newPage"),c.uuid_sid=t):(t=Object(p.a)(),window.sessionStorage.setItem("uuid_sid",t),window.localStorage.removeItem("newPage"),c.uuid_sid=t)),"uuid_sid"!=e.key||null!=e.oldValue&&e.oldValue!=undefined||!e.newValue||e.target.origin!=location.origin&&e.origin!=location.origin||(window.localStorage.removeItem("newPage"),window.localStorage.removeItem("uuid_sid"),window.sessionStorage.setItem("uuid_sid",e.newValue))});var e=s[r];if(e&&e.queue){for(;e.queue.length;)l.stack.push(l.pack(e.queue.shift()));e.queue=undefined}var t=s.ath_elpv;if(t&&t.queue){for(;t.queue.length;)o.stack.push(o.pack(t.queue.shift()));t.queue=undefined}l.loaded="loaded",s[r]=l,s.ath_elpv=o,l.run(),o.run()},l.init(),"loading"!=document.readyState?c.load():window.addEventListener("DOMContentLoaded",c.load))}});